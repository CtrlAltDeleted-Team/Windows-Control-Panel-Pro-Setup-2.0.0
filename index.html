﻿<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows Control Panel Pro</title>
    <style>
        /* УНИВЕРСАЛЬНЫЙ ШРИФТ ДЛЯ WINDOWS */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Arial", sans-serif !important;
        }
        
        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #000000;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .panel-container {
            width: 100%;
            max-width: 1200px;
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            border: 1px solid #e0e0e0;
        }
        
        .header {
            background: linear-gradient(135deg, #000000 0%, #333333 100%);
            color: #ffffff;
            padding: 25px;
            text-align: center;
            position: relative;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .header-info {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 5px;
        }
        
        .header h1 {
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(90deg, #00b4db, #0083b0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: "Arial", sans-serif !important;
        }
        
        .system-info {
            font-size: 14px;
            opacity: 0.8;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            font-family: "Arial", sans-serif !important;
        }
        
        .lock-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            font-family: "Arial", sans-serif !important;
        }
        
        .lock-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }
        
        .controls {
            padding: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .control-btn {
            background: linear-gradient(135deg, #2c3e50 0%, #000000 100%);
            color: #ffffff;
            border: none;
            padding: 20px 15px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-height: 100px;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            font-family: "Arial", sans-serif !important;
        }
        
        .control-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            background: linear-gradient(135deg, #000000 0%, #2c3e50 100%);
        }
        
        .control-btn:active {
            transform: translateY(-2px);
        }
        
        .control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .btn-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .btn-description {
            font-size: 12px;
            opacity: 0.8;
            font-weight: normal;
            font-family: "Arial", sans-serif !important;
        }
        
        .danger-btn {
            background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
        }
        
        .danger-btn:hover {
            background: linear-gradient(135deg, #ff4b2b 0%, #ff416c 100%);
        }
        
        .warning-btn {
            background: linear-gradient(135deg, #f7971e 0%, #ffd200 100%);
        }
        
        .warning-btn:hover {
            background: linear-gradient(135deg, #ffd200 0%, #f7971e 100%);
        }
        
        .success-btn {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        
        .success-btn:hover {
            background: linear-gradient(135deg, #38ef7d 0%, #11998e 100%);
        }
        
        .info-btn {
            background: linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%);
        }
        
        .info-btn:hover {
            background: linear-gradient(135deg, #6dd5ed 0%, #2193b0 100%);
        }
        
        .github-btn {
            background: linear-gradient(135deg, #333333 0%, #000000 100%);
        }
        
        .github-btn:hover {
            background: linear-gradient(135deg, #000000 0%, #333333 100%);
        }
        
        .footer {
            padding: 20px 30px;
            background: linear-gradient(135deg, #000000 0%, #333333 100%);
            color: #ffffff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .developer {
            font-size: 16px;
            opacity: 0.9;
            font-weight: 600;
            font-family: "Arial", sans-serif !important;
        }
        
        .version {
            font-size: 14px;
            opacity: 0.7;
            font-family: "Arial", sans-serif !important;
        }
        
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 50px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .modal-content h2 {
            color: #ffffff;
            margin-bottom: 20px;
            font-size: 28px;
            background: linear-gradient(90deg, #00b4db, #0083b0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: "Arial", sans-serif !important;
        }
        
        .modal-content p {
            color: #cccccc;
            margin-bottom: 30px;
            line-height: 1.6;
            font-family: "Arial", sans-serif !important;
        }
        
        .pin-input {
            width: 100%;
            padding: 20px;
            font-size: 32px;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            margin-bottom: 25px;
            letter-spacing: 10px;
            color: #ffffff;
            outline: none;
            transition: all 0.3s;
            font-family: "Arial", sans-serif !important;
        }
        
        .pin-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
        }
        
        .submit-pin {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
            font-family: "Arial", sans-serif !important;
        }
        
        .submit-pin:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
        }
        
        .error-message {
            color: #ff6b6b;
            margin-top: 15px;
            min-height: 25px;
            font-size: 16px;
            font-weight: 600;
            font-family: "Arial", sans-serif !important;
        }
        
        .locked .panel-container {
            filter: blur(10px);
            pointer-events: none;
            user-select: none;
        }
        
        .notification {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #000000 0%, #333333 100%);
            color: #ffffff;
            padding: 20px 25px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            display: none;
            z-index: 1001;
            max-width: 350px;
            border-left: 5px solid #667eea;
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #ffffff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .category-title {
            grid-column: 1 / -1;
            color: #333333;
            font-size: 22px;
            font-weight: 700;
            margin: 20px 0 10px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
            font-family: "Arial", sans-serif !important;
        }
        
        @media (max-width: 768px) {
            .controls {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                padding: 20px;
            }
            
            .header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .header-info {
                align-items: center;
            }
            
            .control-btn {
                min-height: 80px;
                padding: 15px 10px;
            }
        }
        
        @media (max-width: 480px) {
            .controls {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .footer {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="panel-container">
        <div class="header">
            <div class="header-info">
                <h1>Windows Control Panel Pro</h1>
                <div class="system-info">
                    <span id="systemName">Загрузка...</span>
                    <span id="cpuInfo">Загрузка...</span>
                    <span id="memoryInfo">Загрузка...</span>
                </div>
            </div>
            <button class="lock-btn" id="lockBtn">
                <span>🔒</span> Заблокировать
            </button>
        </div>
        
        <div class="controls">
            <div class="category-title">Основные функции</div>
            
            <button class="control-btn" id="taskManagerBtn">
                <div class="btn-icon">📊</div>
                <div>Диспетчер задач</div>
                <div class="btn-description">Запуск системного диспетчера</div>
            </button>
            
            <button class="control-btn success-btn" id="sleepBtn">
                <div class="btn-icon">💤</div>
                <div>Сон</div>
                <div class="btn-description">Спящий режим</div>
            </button>
            
            <button class="control-btn github-btn" id="githubBtn">
                <div class="btn-icon">🐙</div>
                <div>GitHub</div>
                <div class="btn-description">Ctrl+Alt+Deleted Team</div>
            </button>
            
            <div class="category-title">Управление системой</div>
            
            <button class="control-btn info-btn" id="controlPanelBtn">
                <div class="btn-icon">⚙️</div>
                <div>Панель управления</div>
                <div class="btn-description">Классическая панель управления</div>
            </button>
            
            <button class="control-btn" id="deviceManagerBtn">
                <div class="btn-icon">🔧</div>
                <div>Диспетчер устройств</div>
                <div class="btn-description">Управление устройствами</div>
            </button>
            
            <button class="control-btn" id="computerManagementBtn">
                <div class="btn-icon">💻</div>
                <div>Управление компьютером</div>
                <div class="btn-description">Полное управление системой</div>
            </button>
            
            <button class="control-btn info-btn" id="systemPropertiesBtn">
                <div class="btn-icon">📈</div>
                <div>Параметры системы</div>
                <div class="btn-description">Настройки производительности</div>
            </button>
            
            <div class="category-title">Инструменты</div>
            
            <button class="control-btn" id="cleanDiskBtn">
                <div class="btn-icon">🧹</div>
                <div>Очистка диска</div>
                <div class="btn-description">Освобождение места</div>
            </button>
            
            <button class="control-btn" id="resourceMonitorBtn">
                <div class="btn-icon">📊</div>
                <div>Монитор ресурсов</div>
                <div class="btn-description">Мониторинг системы</div>
            </button>
            
            <button class="control-btn warning-btn" id="checkDiskBtn">
                <div class="btn-icon">✅</div>
                <div>Проверка диска</div>
                <div class="btn-description">Проверка целостности</div>
            </button>
            
            <button class="control-btn" id="defragmentBtn">
                <div class="btn-icon">🔧</div>
                <div>Дефрагментация</div>
                <div class="btn-description">Оптимизация диска</div>
            </button>
            
            <div class="category-title">Служебные программы</div>
            
            <button class="control-btn" id="commandPromptBtn">
                <div class="btn-icon">⌨️</div>
                <div>Командная строка</div>
                <div class="btn-description">CMD</div>
            </button>
            
            <button class="control-btn info-btn" id="powershellBtn">
                <div class="btn-icon">💻</div>
                <div>PowerShell</div>
                <div class="btn-description">Расширенная командная строка</div>
            </button>
            
            <button class="control-btn warning-btn" id="registryEditorBtn">
                <div class="btn-icon">🔐</div>
                <div>Редактор реестра</div>
                <div class="btn-description">Regedit</div>
            </button>
            
            <button class="control-btn" id="taskSchedulerBtn">
                <div class="btn-icon">⏰</div>
                <div>Планировщик заданий</div>
                <div class="btn-description">Автоматизация задач</div>
            </button>
            
            <div class="category-title">Дополнительные функции</div>
            
            <button class="control-btn" id="notepadBtn">
                <div class="btn-icon">📝</div>
                <div>Блокнот</div>
                <div class="btn-description">Текстовый редактор</div>
            </button>
            
            <button class="control-btn" id="calculatorBtn">
                <div class="btn-icon">🧮</div>
                <div>Калькулятор</div>
                <div class="btn-description">Системный калькулятор</div>
            </button>
            
            <button class="control-btn" id="networkSettingsBtn">
                <div class="btn-icon">🌐</div>
                <div>Сеть и интернет</div>
                <div class="btn-description">Сетевые подключения</div>
            </button>
            
            <button class="control-btn" id="displaySettingsBtn">
                <div class="btn-icon">🖥️</div>
                <div>Свойства экрана</div>
                <div class="btn-description">Настройки дисплея</div>
            </button>
            
            <div class="category-title">Администрирование</div>
            
            <button class="control-btn warning-btn" id="servicesBtn">
                <div class="btn-icon">⚙️</div>
                <div>Службы Windows</div>
                <div class="btn-description">Управление службами</div>
            </button>
            
            <button class="control-btn" id="eventViewerBtn">
                <div class="btn-icon">📋</div>
                <div>Просмотр событий</div>
                <div class="btn-description">Журналы системы</div>
            </button>
            
            <button class="control-btn" id="powerOptionsBtn">
                <div class="btn-icon">🔋</div>
                <div>Электропитание</div>
                <div class="btn-description">Настройки питания</div>
            </button>
            
            <button class="control-btn" id="onScreenKeyboardBtn">
                <div class="btn-icon">⌨️</div>
                <div>Экранная клавиатура</div>
                <div class="btn-description">Виртуальная клавиатура</div>
            </button>
            
            <div class="category-title">Управление питанием</div>
            
            <button class="control-btn danger-btn" id="restartBtn">
                <div class="btn-icon">🔄</div>
                <div>Перезагрузка</div>
                <div class="btn-description">Перезапуск системы</div>
            </button>
            
            <button class="control-btn danger-btn" id="shutdownBtn">
                <div class="btn-icon">⏻</div>
                <div>Выключение</div>
                <div class="btn-description">Полное выключение</div>
            </button>
        </div>
        
        <div class="footer">
            <div class="developer">Разработчик: Ctrl+Alt+Deleted Team</div>
            <div class="version">Windows Control Panel Pro v2.0</div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <h2>Панель управления заблокирована</h2>
            <p>Для разблокировки введите пин-код:</p>
            <input type="password" class="pin-input" id="pinInput" maxlength="4" placeholder="0000" inputmode="numeric">
            <div class="error-message" id="errorMessage"></div>
            <button class="submit-pin" id="submitPin">Разблокировать</button>
        </div>
    </div>

    <script>
        // Глобальные переменные
        const notification = document.getElementById('notification');
        const modalOverlay = document.getElementById('modalOverlay');
        const pinInput = document.getElementById('pinInput');
        const submitPin = document.getElementById('submitPin');
        const errorMessage = document.getElementById('errorMessage');
        const correctPin = "3000";
        
        // Системная информация
        const systemName = document.getElementById('systemName');
        const cpuInfo = document.getElementById('cpuInfo');
        const memoryInfo = document.getElementById('memoryInfo');
        
        // Функция для отображения уведомлений
        function showNotification(message, duration = 3000) {
            notification.textContent = message;
            notification.style.display = 'block';
            setTimeout(() => {
                notification.style.display = 'none';
            }, duration);
        }
        
        // Функция для установки состояния кнопки
        function setButtonLoading(button, isLoading) {
            const loadingDiv = button.querySelector('.loading');
            if (!loadingDiv && isLoading) {
                const loading = document.createElement('div');
                loading.className = 'loading';
                loading.style.marginLeft = '10px';
                button.appendChild(loading);
            } else if (loadingDiv) {
                loadingDiv.style.display = isLoading ? 'inline-block' : 'none';
            }
            button.disabled = isLoading;
        }
        
        // Общая функция для обработки действий
        async function handleAction(buttonId, apiFunction, ...args) {
            const button = document.getElementById(buttonId);
            try {
                setButtonLoading(button, true);
                const result = await apiFunction(...args);
                showNotification(result);
            } catch (error) {
                showNotification(`Ошибка: ${error}`, 5000);
            } finally {
                setButtonLoading(button, false);
            }
        }
        
        // Функция блокировки панели
        function lockPanel() {
            document.body.classList.add('locked');
            modalOverlay.style.display = 'flex';
            pinInput.focus();
            errorMessage.textContent = '';
        }
        
        // Функция разблокировки панели
        function unlockPanel() {
            const enteredPin = pinInput.value;
            
            if (enteredPin === correctPin) {
                document.body.classList.remove('locked');
                modalOverlay.style.display = 'none';
                pinInput.value = '';
                showNotification("Панель управления разблокирована!");
            } else {
                errorMessage.textContent = 'Неверный пин-код. Попробуйте снова.';
                pinInput.value = '';
                pinInput.focus();
                
                pinInput.style.borderColor = '#ff6b6b';
                setTimeout(() => {
                    pinInput.style.borderColor = 'rgba(255, 255, 255, 0.2)';
                }, 500);
            }
        }
        
        // Загрузка информации о системе
        async function loadSystemInfo() {
            try {
                const info = await window.api.getSystemInfo();
                systemName.textContent = `Система: ${info.platform} ${info.release}`;
                cpuInfo.textContent = `Процессор: ${info.cpus} ядер`;
                memoryInfo.textContent = `Память: ${info.freeMem}/${info.totalMem} ГБ свободно`;
            } catch (error) {
                console.error('Ошибка загрузки информации о системе:', error);
            }
        }
        
        // Назначение обработчиков событий ДЛЯ ВСЕХ КНОПОК
        document.addEventListener('DOMContentLoaded', () => {
            // Загрузка информации о системе
            loadSystemInfo();
            
            // ===== ОСНОВНЫЕ ФУНКЦИИ =====
            document.getElementById('taskManagerBtn').addEventListener('click', () => {
                handleAction('taskManagerBtn', window.api.openTaskManager);
            });
            
            document.getElementById('sleepBtn').addEventListener('click', () => {
                if (confirm("Вы уверены, что хотите перевести компьютер в спящий режим?")) {
                    handleAction('sleepBtn', window.api.sleepComputer);
                }
            });
            
            document.getElementById('githubBtn').addEventListener('click', () => {
                // Открытие GitHub в новом окне/вкладке
                window.open('https://github.com/CtrlAltDeleted-Team', '_blank');
                showNotification("Открывается GitHub Ctrl+Alt+Deleted Team");
            });
            
            // ===== УПРАВЛЕНИЕ СИСТЕМОЙ =====
            document.getElementById('controlPanelBtn').addEventListener('click', () => {
                handleAction('controlPanelBtn', window.api.openControlPanel);
            });
            
            document.getElementById('deviceManagerBtn').addEventListener('click', () => {
                handleAction('deviceManagerBtn', window.api.openDeviceManager);
            });
            
            document.getElementById('computerManagementBtn').addEventListener('click', () => {
                handleAction('computerManagementBtn', window.api.openComputerManagement);
            });
            
            document.getElementById('systemPropertiesBtn').addEventListener('click', () => {
                handleAction('systemPropertiesBtn', window.api.openSystemProperties);
            });
            
            // ===== ИНСТРУМЕНТЫ =====
            document.getElementById('cleanDiskBtn').addEventListener('click', () => {
                handleAction('cleanDiskBtn', window.api.cleanDisk);
            });
            
            document.getElementById('resourceMonitorBtn').addEventListener('click', () => {
                handleAction('resourceMonitorBtn', window.api.openResourceMonitor);
            });
            
            document.getElementById('checkDiskBtn').addEventListener('click', () => {
                handleAction('checkDiskBtn', window.api.checkDisk);
            });
            
            document.getElementById('defragmentBtn').addEventListener('click', () => {
                handleAction('defragmentBtn', window.api.defragmentDisk);
            });
            
            // ===== СЛУЖЕБНЫЕ ПРОГРАММЫ =====
            document.getElementById('commandPromptBtn').addEventListener('click', () => {
                handleAction('commandPromptBtn', window.api.openCommandPrompt);
            });
            
            document.getElementById('powershellBtn').addEventListener('click', () => {
                handleAction('powershellBtn', window.api.openPowershell);
            });
            
            document.getElementById('registryEditorBtn').addEventListener('click', () => {
                if (confirm("ВНИМАНИЕ: Редактор реестра - мощный инструмент. Неправильное использование может повредить систему. Продолжить?")) {
                    handleAction('registryEditorBtn', window.api.openRegistryEditor);
                }
            });
            
            document.getElementById('taskSchedulerBtn').addEventListener('click', () => {
                handleAction('taskSchedulerBtn', window.api.openTaskScheduler);
            });
            
            // ===== ДОПОЛНИТЕЛЬНЫЕ ФУНКЦИИ =====
            document.getElementById('notepadBtn').addEventListener('click', () => {
                handleAction('notepadBtn', window.api.openNotepad);
            });
            
            document.getElementById('calculatorBtn').addEventListener('click', () => {
                handleAction('calculatorBtn', window.api.openCalculator);
            });
            
            document.getElementById('networkSettingsBtn').addEventListener('click', () => {
                handleAction('networkSettingsBtn', window.api.openNetworkSettings);
            });
            
            document.getElementById('displaySettingsBtn').addEventListener('click', () => {
                handleAction('displaySettingsBtn', window.api.openDisplaySettings);
            });
            
            // ===== АДМИНИСТРИРОВАНИЕ =====
            document.getElementById('servicesBtn').addEventListener('click', () => {
                handleAction('servicesBtn', window.api.openServices);
            });
            
            document.getElementById('eventViewerBtn').addEventListener('click', () => {
                handleAction('eventViewerBtn', window.api.openEventViewer);
            });
            
            document.getElementById('powerOptionsBtn').addEventListener('click', () => {
                handleAction('powerOptionsBtn', window.api.openPowerOptions);
            });
            
            document.getElementById('onScreenKeyboardBtn').addEventListener('click', () => {
                handleAction('onScreenKeyboardBtn', window.api.openOnScreenKeyboard);
            });
            
            // ===== УПРАВЛЕНИЕ ПИТАНИЕМ =====
            document.getElementById('restartBtn').addEventListener('click', () => {
                if (confirm("ВНИМАНИЕ: Вы уверены, что хотите перезагрузить компьютер? Все несохраненные данные будут потеряны.")) {
                    handleAction('restartBtn', window.api.restartComputer);
                }
            });
            
            document.getElementById('shutdownBtn').addEventListener('click', () => {
                if (confirm("ВНИМАНИЕ: Вы уверены, что хотите выключить компьютер? Все несохраненные данные будут потеряны.")) {
                    handleAction('shutdownBtn', window.api.shutdownComputer);
                }
            });
            
            // ===== БЛОКИРОВКА =====
            document.getElementById('lockBtn').addEventListener('click', lockPanel);
            
            // Разблокировка по пин-коду
            submitPin.addEventListener('click', unlockPanel);
            
            // Разблокировка по Enter
            pinInput.addEventListener('keyup', (event) => {
                if (event.key === 'Enter') {
                    unlockPanel();
                }
            });
            
            // Только цифры для пин-кода
            pinInput.addEventListener('input', (event) => {
                event.target.value = event.target.value.replace(/\D/g, '');
            });
            
            // Автофокус на пин-коде при открытии
            modalOverlay.addEventListener('click', (event) => {
                if (event.target === modalOverlay) {
                    pinInput.focus();
                }
            });
            
            // Обновление информации о системе каждые 30 секунд
            setInterval(loadSystemInfo, 30000);
            
            // Горячие клавиши
            document.addEventListener('keydown', (event) => {
                if (document.body.classList.contains('locked')) return;
                
                // Ctrl + L для блокировки
                if (event.ctrlKey && event.key === 'l') {
                    event.preventDefault();
                    lockPanel();
                }
                
                // Escape для отмены
                if (event.key === 'Escape') {
                    const activeElement = document.activeElement;
                    if (activeElement && activeElement.id === 'pinInput') {
                        modalOverlay.style.display = 'none';
                        document.body.classList.remove('locked');
                    }
                }
            });
            
            // Уведомление о готовности
            setTimeout(() => {
                showNotification("Панель управления готова к работе!", 2000);
            }, 1000);
        });
    </script>
</body>
</html>